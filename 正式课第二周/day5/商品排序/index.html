<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
<link rel="stylesheet" href="./css/1.css">
</head>
<body>
   <section class="box">
        <nav>
            <span>排序</span>
            <a href="javascript:void(0);" data-name="time">
                <i class="up"></i>
                <i class="down"></i>
                上架时间
            </a>
            <a href="javascript:void(0);" data-name="hot">
                <i class="up"></i>
                <i class="down"></i>
                热度
            </a>
            <a href="javascript:void(0);" data-name="price">
                <i class="up "></i>
                <i class="down"></i>
                价钱
            </a>
            <div>
                <select name="" id="sele">
                    <option value="hot">按照热度搜索</option>
                    <option value="price">按照价格搜索</option>
                    <option value="hot">按照文字搜索</option>
                </select>
                <input type="text">
                <button id="search">搜索</button>
            </div>
        </nav>
        <ul class="list" id="ul">
            <!-- <li>
                <img src="./img/2.jpg" alt="">
                <p>商品名称:<span>dsdsadsads</span></p>
                <p>上架时间:<span>2019-10-10</span></p>
                <p>商品热度:<span>32</span></p>
                <p>商品价格::<span>200</span></p>
            </li> -->
        </ul>
       
   </section>
<!-- <script src="./json/product.js"></script> -->
<script>
    // 先获取数据，用.json转化为正常的数据(数组)
    fetch('./json/product.json').then(a=>a.json()).then(data=>{
        // 拷贝一份数组,省得直接操作原数组变乱
        let newdata = data.concat()
        // 写一个方法用来每次点击排序都渲染进页面
        function render(newdata){
            // 把title,img,time,hot,price都解构出来,省得写data.xxx
            // 名称里因为标签过长可以截一下,然后让span的title显示全
            // 然后拼接字符串,把这些数据都放到页面中,排序的是  新数组
            let lis = newdata.map(({title,img,time,hot,price})=>{
                return (`<li>
                <img data-src="${img}" alt="">
                <p title="${title}">商品名称:<span>${title.substr(0,6)}</span></p>
                <p>上架时间:<span>${time}</span></p>
                <p>商品热度:<span>${hot}</span></p>
                <p>商品价格::<span>${price}</span></p>
            </li>`)
            }).join('')
            ul.innerHTML = lis
        }
        // 执行方法保证页面的渲染
        render(newdata)

        // 懒加载
        const li = document.querySelectorAll('#ul li')
        window.onload
    })
    
</script>
</body>
</html>