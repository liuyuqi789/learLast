<template>
    <div>
        <p>请登录</p>
        用户名:<input v-model="uname" type="text"/>
        密码:<input v-model="pass" type="password"/>
        <button @click="login">登录</button>
    </div>
</template>

<script>
    export default {
        created() {
            this.path = this.$route.query.topath
        },
        data(){
            return {
                uname:'',
                pass:'',
                path:''
            }
        },
        methods:{
            login(){
                let ary = [
                    {
                        un:'男女男',
                        pass:'111'
                    },
                    {
                        un:'未来星',
                        pass:'222'
                    }
                ]
                const {uname,pass} = this;
                setTimeout(() => {
                    if(ary.some(item=>item.un === uname && item.pass === pass)){
                        localStorage.setItem('login',uname)
                        this.$router.push({
                            path:this.path
                        })
                    }else{
                        localStorage.clear()
                    }
                }, 2000)
                
            }
        }
    }
</script>

<style scoped>

</style>